<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Trainings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="training.css">
  <!--font awesome-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

  <!--css file-->
  <link rel="stylesheet" href="adminDashboard.css">
  <link rel="stylesheet" href="userDashboard.css">
</head>

<body>
  <div class="sidebar close">
    <div class="logo">
      <i class="ri-store-3-fill"></i>
      <span class="logo-name">BAKA360</span>
    </div>

    <ul class="nav-list">
      <li>
        <a href="#">
          <i class="ri-dashboard-2-line"></i>
          <span class="link-name">Dashboard</span>
        </a>

        <ul class="sub-menu blank">
          <li><a href="adminDashboard.html/userDashboard.html" class="link-name">Dashboard</a></li>
        </ul>
      </li>

      <li>
        <div class="icon-link">
          <a href="#">
            <i class="ri-article-line"></i>
            <span class="link-name">Blogs</span>
          </a>
          <i class="fas fa-caret-down arrow"></i>
        </div>

        <ul class="sub-menu">
          <li><a href="#" class="link-name">Blogs</a></li>
          <li><a href="BlogForm.html">New Blog Post</a></li>
          <li><a href="blog.html">Saved Blogs</a></li>
        </ul>
      </li>

      <li>
        <div class="icon-link">
          <a href="#">
            <i class="ri-presentation-fill"></i>
            <span class="link-name">Courses</span>
          </a>
          <i class="fas fa-caret-down arrow"></i>
        </div>

        <ul class="sub-menu">
          <li><a href="#" class="link-name">Courses</a></li>
          <li><a href="#">Courses</a></li>
          <li><a href="#">Post New Course</a></li>
        </ul>
      </li>

      <li>
        <div class="icon-link">
          <a href="#">
            <i class="ri-presentation-fill"></i>
            <span class="link-name">Trainings</span>
          </a>
          <i class="fas fa-caret-down arrow"></i>
        </div>

        <ul class="sub-menu">
          <li><a href="#" class="link-name">Trainings</a></li>
          <li><a href="training.html">Trainings</a></li>
          <li><a href="adminTraining.html">Post New Trainings</a></li>
        </ul>
      </li>

      <li>
        <div class="icon-link">
          <a href="#">
            <i class="ri-briefcase-4-line"></i>
            <span class="link-name">Management</span>
          </a>
          <i class="fas fa-caret-down arrow"></i>
        </div>

        <ul class="sub-menu">
          <li><a href="#" class="link-name">Management</a></li>
          <li><a href="inventory.html">Inventory</a></li>
          <li><a href="#">Analytics</a></li>
        </ul>
      </li>

      <li>
        <a href="#">
          <i class="ri-question-line"></i>
          <span class="link-name">Help</span>
        </a>

        <ul class="sub-menu blank">
          <li><a href="#" class="link-name">Help</a></li>
        </ul>
      </li>

      <li>
        <a href="#">
          <i class="ri-settings-4-line"></i>
          <span class="link-name">Settings</span>
        </a>

        <ul class="sub-menu blank">
          <li><a href="#" class="link-name">Settings</a></li>
        </ul>
      </li>

      <li>
        <a href="#">
          <i class="ri-information-line"></i>
          <span class="link-name">About</span>
        </a>

        <ul class="sub-menu blank">
          <li><a href="#" class="link-name">About</a></li>
        </ul>
      </li>

      <li>
        <div class="logout">
          <a href="form.html">
            <i class="ri-logout-box-line"></i>
            <span class="link-name">Logout</span>
          </a>

          <ul class="sub-menu blank">
            <li><a href="form.html" class="link-name">Logout</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </div>

<style>
  #body {
    background-color: #EBEBEB;
    font-family: poppins:
    color: #333;
  }

  #uploadContainer {
    padding: 10px; color: #fff; border: 10px; border-radius:8px; outline: none; background: #7A5E53; 
  }

  #uploadContainer:hover {
    background: black;
    background-color: #523D38;
  }

  #deleteContainerInput {
    width: 500px;
  height: 200px;
  }

  #deleteContainer {
    padding: 10px; color: #fff; border: 10px; border-radius:8px; outline: none; background: #7A5E53; 
  }

  #deleteContainer:hover {
    background: black;
    background-color: #523D38;
  }

</style>


  <link rel="stylesheet" href="style.css">
</head>

<body>



  <main>

    <h1>
        <center>ADMIN</center>
    </h1>
    <br>
    <section id="adminSection">
      <center><h2>Upload Text</h2></center>
      <form id="adminForm">
        <center><textarea id="textAreaInput" rows="15" cols="100" placeholder="Enter text"></textarea></center><br>
        <center><button type="button" id="uploadContainer">Upload Text Container</button></center><br>
        <center><h2>Delete Text</h2></center>
        <center><input type="text" id="deleteContainerInput" placeholder="Enter text to delete"></center><br>
        <center><button type="button" id="deleteContainer">Delete Container</button></center>
      </form>
    </section>
  </main>
  <script type="module">
    import {initializeApp} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import {getDatabase, ref, push, get, remove, onValue} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAxXCA6dABzQq7ZUPifdgqwfnwxFOCuNGo",
    authDomain: "bsis3a-appdev.firebaseapp.com",
    databaseURL: "https://bsis3a-appdev-default-rtdb.firebaseio.com",
    projectId: "bsis3a-appdev",
    storageBucket: "bsis3a-appdev.appspot.com",
    messagingSenderId: "815624012761",
    appId: "1:815624012761:web:4d5cc8b6649f0b72548fc8",
    measurementId: "G-DM6R45V78E"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();



    const adminForm = document.querySelector("#adminForm");
    const textAreaInput = document.querySelector("#textAreaInput");
    const deleteContainerInput = document.querySelector("#deleteContainerInput");
    const uploadContainerButton = document.querySelector("#uploadContainer");
    const deleteContainerButton = document.querySelector("#deleteContainer");
    const contentDisplay = document.querySelector("#contentDisplay");

    let containerKey;

    const uploadContainer = () => {
      const containerContent = textAreaInput.value.trim();

      if (containerContent) {
        const containerRef = ref(db, "mixedContainers/");
        push(containerRef, {
          content: containerContent,
        })
          .then((snapshot) => {
            containerKey = snapshot.key;
            alert("Text container uploaded successfully!");
            textAreaInput.value = ""; // Clear the input area
          })
          .catch((error) => {
            alert("Error uploading text container: " + error.message);
          });
      } else {
        alert("Please enter text to upload");
      }
    };

    const deleteContainer = () => {
      const contentToDelete = deleteContainerInput.value.trim();

      if (contentToDelete) {
        const containersRef = ref(db, "mixedContainers/");

        // Retrieve all containers and filter locally based on content
        get(containersRef)
          .then(snapshot => {
            const containers = snapshot.val();
            const containerToDelete = Object.keys(containers).find(key => containers[key].content === contentToDelete);

            if (containerToDelete) {
              const containerRefToDelete = ref(db, `mixedContainers/${containerToDelete}`);

              return remove(containerRefToDelete);
            } else {
              throw new Error("Container not found");
            }
          })
          .then(() => {
            alert("Container deleted successfully!");
            deleteContainerInput.value = ""; // Clear the input field
          })
          .catch((error) => {
            alert("Error deleting container: " + error.message);
          });
      } else {
        alert("Please enter valid content to delete a container");
      }
    };

    uploadContainerButton.addEventListener("click", uploadContainer);
    deleteContainerButton.addEventListener("click", deleteContainer);
  </script>

    <script src="script.js"></script>
  <script src="adminDashboard.js"></script>
  <script src="userDashboard.js"></script>

</body>

</html>
